<!DOCTYPE html>
<html ng-app='scott'>
  <head>
    <meta charset="utf-8">
    <title>Reddit Clone</title>
    <link rel='stylesheet' href='index.css'>
    <link href='https://fonts.googleapis.com/css?family=Archivo+Narrow' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-rc.2/angular.js'>
    </script>
    <script type="text/javascript" src='index.js'></script>
  </head>
  <body ng-controller='control'>
    <div class='nav'>
      <h1 class='title'>Reddit Clone</h1>
      <i class="fa fa-reddit-alien" ng-click='toggle()'>  Submit New Post</i>
    </div>
      <div ng-show='showForm'>
        <form name='form' ng-submit='submitPost()' class='newPost'>
          <label class='new'>Title</label>
          <input class='newField' type="text" ng-required='true' ng-model='title' placeholder="Title">
          <label class='new'>Author</label>
          <input class='newField' type="text" ng-required='true' ng-model='author' placeholder='Author'>
          <label class='new'>Image URL</label>
          <input class='newField' type="text" ng-required='true' ng-model='url' placeholder='Picture'>
          <label class='new'>Description</label>
          <input class='newField' type="text" ng-required='true' ng-model='description' placeholder="Talk about it">
          <button class='newField newButton' type=submit ng-click='toggle()' ng-disabled='form.$invalid'>Submit post</button>

        </form>

      </div>
      <div class='post' ng-repeat="post in posts | orderBy:'-upvote'">
        <img class='postPic' src="{{post.url}}" alt="">
        <div class='title_author'>
          <p class='postTitle'>
            {{post.title}}
          </p>
          <p>
            By: {{post.author}}
          </p>
        </div>
        <div class='description'>
          <p>
            {{post.description}}
          </p>
        </div>
        <div class="date_upvote">
          <p>
            {{post.date | date:'medium'}}
          </p>
          <i ng-click='post.upvote = post.upvote + 1' id='hand' class="fa fa-hand-o-up"></i>
          <i ng-click='post.upvote = post.upvote - 1' id='hand' class="fa fa-hand-o-down"></i>
          <p>
            {{post.upvote | number}}
          </p>
          <i ng-click='toggleComments()' id='hand' class="fa fa-comment"> Add Comment</i>

        </div>
        <div ng-controller='comments'>
        <div ng-show='showComments'>
          <form ng-submit= 'submitComment()'>
            <input type='text' ng-model='name' placeholder="Enter your name">
            <textarea ng-model='comment' rows="8" cols="40" placeholder='Enter comment'></textarea>
            <button type='submit' ng-click='toggleComments()'>Submit Comment</button>
          </form>
        </div>
        <div class='post' ng-repeat="comment in comments">

          <p>
            {{comment.name}}
            {{comment.comment}}
          </p>
        </div>
        </div>
    </div>
  </body>
</html>
